"use strict";(self.webpackChunkwebpack_config=self.webpackChunkwebpack_config||[]).push([[408],{930:(e,s,a)=>{a.r(s),a.d(s,{default:()=>P});var t,r=a(893);!function(e){e[e.inactive=0]="inactive",e[e.active=1]="active",e[e.done=2]="done"}(t||(t={}));var n=a(294),c=a(395);function o(e){var s=e.step;return(0,r.jsxs)("div",{className:"step",children:[(0,r.jsxs)("div",{className:"".concat(function(e){var s="";switch(e){case t.active:s="active";break;case t.inactive:s="inactive";break;case t.done:s="done"}return s}(s.status)," step-part"),children:[(0,r.jsx)("div",{className:"step-part__pre-line"}),(0,r.jsxs)("div",{className:"step-part__point",children:[s.status===t.done&&(0,r.jsx)("img",{className:"step-part__point-done",src:c}),s.status===t.active&&(0,r.jsx)("span",{className:"step-part__point-active"})]}),(0,r.jsx)("div",{className:"step-part__post-line"})]}),(0,r.jsx)("div",{className:"step__title".concat(s.status===t.done||s.status===t.active?"--active":""),children:s.header})]})}function i(e){var s=e.stepsArr;return(0,r.jsx)("div",{className:"progress-line",children:s.map((function(e){return(0,r.jsx)(o,{step:e},e.id)}))})}var l=a(54),m=a(310),d=a(204);function u(e){var s=e.idTitle,a=e.error,t=void 0!==a&&a,c=e.data,o=e.title,i=e.onChange,l=(0,n.useState)(!1),m=l[0],u=l[1];(0,n.useEffect)((function(){return window.addEventListener("click",_),window.removeEventListener("click",(function(e){return _(e)}))}),[]);var _=function(e){e.target.closest("#".concat(s))?u(!0):u(!1)};return(0,r.jsxs)("div",{className:"drop-down-list",children:[(0,r.jsxs)("div",{id:s,className:"drop-down-list__container".concat(t?"--error":""),children:[(0,r.jsx)("div",{className:"drop-down-list__title",children:"".concat(o||"Не выбрано")}),(0,r.jsx)("img",{className:"drop-down-list__vector",src:d,alt:"vectorDropDown"})]}),m&&(0,r.jsx)("div",{className:"drop-down-list__content",children:c.map((function(e){if(e.name!==o)return(0,r.jsx)("div",{className:"drop-down-list__item",onClick:function(){return s=e.name,void(o!==s&&i(s));var s},children:e.name},e.id)}))})]})}var _=a(7),p=_.v9,v=a(487),f=a(752),x=[{id:1,name:"женский"},{id:2,name:"мужской"}];function h(e){var s=e.onNextStep,a=e.onPrevStep,t=p((function(e){return e.formReducer})),c=(0,n.useState)(t.dataForm.sex),o=c[0],i=c[1],d=(0,n.useState)(""),h=d[0],j=d[1],N=(0,_.I0)(),b=m.Ry().shape({nickname:m.Z_().required("Обязательное поле для заполнения").max(30,"Допустимая длина превышает 30 символов").matches(/^[аА-яЯ\\0-9\s]+$/,"Запрещены специальные символы"),name:m.Z_().required("Обязательное поле для заполнения").max(50,"Допустимая длина превышает 50 символов").matches(/^[аА-яЯ\s]+$/,"Разрешены только буквы"),surname:m.Z_().required("Обязательное поле для заполнения").max(50,"Допустимая длина превышает 50 символов").matches(/^[аА-яЯ\s]+$/,"Разрешены только буквы")}),g=function(){j(o?"":"Обязательное поле для заполнения")};return(0,r.jsx)(l.J9,{validationSchema:b,initialValues:{nickname:t.dataForm.nickname,name:t.dataForm.name,surname:t.dataForm.surname},onSubmit:function(e){if(o){var a={nickname:e.nickname,name:e.name,surname:e.surname,sex:o};N((0,v.X0)(f.H.ADD_DATA_FROM_STEP_1,a)),j(""),s()}else j("Обязательное поле для заполнения")},children:function(e){var s=e.errors,t=e.touched,n=e.values;return(0,r.jsxs)(l.l0,{className:"step-form",children:[(0,r.jsxs)("div",{className:"step-form__content-step1",children:[(0,r.jsxs)("div",{className:"step-form__item",children:[(0,r.jsx)("label",{className:"step-form__label",children:"Никнейм"}),(0,r.jsx)(l.gN,{placeholder:"Введите текст",name:"nickname",className:"form-input step-form__input".concat(s.nickname&&t.nickname?"--error":"")}),(0,r.jsx)("div",{className:"step-form__warning",children:(0,r.jsx)(l.Bc,{className:"step-form__warning",name:"nickname"})})]}),(0,r.jsxs)("div",{className:"step-form__item",children:[(0,r.jsx)("label",{className:"step-form__label",children:"Имя"}),(0,r.jsx)(l.gN,{placeholder:"Введите текст",name:"name",className:"form-input step-form__input".concat(s.name&&t.name?"--error":"")}),(0,r.jsx)("div",{className:"step-form__warning",children:(0,r.jsx)(l.Bc,{className:"step-form__warning",name:"name"})})]}),(0,r.jsxs)("div",{className:"step-form__item",children:[(0,r.jsx)("label",{className:"step-form__label",children:"Фамилия"}),(0,r.jsx)(l.gN,{placeholder:"Введите текст",name:"surname",className:"form-input step-form__input".concat(s.surname&&t.surname?"--error":"")}),(0,r.jsx)("div",{className:"step-form__warning",children:(0,r.jsx)(l.Bc,{name:"surname"})})]}),(0,r.jsxs)("div",{className:"step-form__item",children:[(0,r.jsx)("label",{className:"step-form__label",children:"Пол"}),(0,r.jsx)(u,{idTitle:"dropDownForm",title:o,error:""!==h,data:x,onChange:i}),(0,r.jsx)("div",{className:"step-form__warning",children:h})]})]}),(0,r.jsxs)("div",{className:"step-form__buttons",children:[(0,r.jsx)("button",{className:"step-form__back-btn",onClick:function(){return function(e){N((0,v.X0)(f.H.ADD_DATA_FROM_STEP_1,e)),a()}(n)},children:"Назад"}),(0,r.jsx)("button",{className:"form-btn step-form__next-btn",type:"submit",onClick:g,children:"Далее"})]})]})}})}var j=a(398),N=a(326);function b(e){var s=e.onNextStep,a=e.onPrevStep,t=p((function(e){return e.formReducer})),n=(0,_.I0)(),c=m.Ry().shape({advantages:m.IX().of(m.Z_().required("require")),checkbox:m.IX().min(1),radio:m.Rx().required("require")});return(0,r.jsx)(l.J9,{validationSchema:c,initialValues:{advantages:t.dataForm.advantages,checkbox:t.dataForm.checkbox,radio:t.dataForm.radio},onSubmit:function(e){var a={advantages:e.advantages,checkbox:e.checkbox.map((function(e){return Number(e)})),radio:Number(e.radio)};n((0,v.wI)(f.H.ADD_DATA_FROM_STEP_2,a)),s()},children:function(e){var s=e.errors,t=e.touched,c=e.values;return(0,r.jsxs)(l.l0,{className:"step-form",children:[(0,r.jsxs)("div",{className:"step-form__content-step2",children:[(0,r.jsx)(l.F2,{name:"advantages",children:function(e){var a=e.remove,n=e.push;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"step-form__advantages",children:[(0,r.jsx)("label",{className:"step-form__label",children:"Преимущества"}),c.advantages.map((function(e,n){return(0,r.jsxs)("div",{className:"step-form-advantage",children:[(0,r.jsx)(l.gN,{name:"advantages[".concat(n,"]"),placeholder:"Введите текст",className:"form-input step-form-advantage__input".concat(s.advantages&&s.advantages[n]&&Array.isArray(t.advantages)&&t.advantages[n]?"--error":"")}),(0,r.jsx)("button",{type:"button",className:"step-form-advantage__remove-btn",onClick:function(){c.advantages.length>1&&a(n)},children:(0,r.jsx)("img",{className:"step-form-advantage__trash-img",src:N,alt:"trashImg"})})]},n)}))]}),(0,r.jsx)("button",{type:"button",className:"step-form__add-advantage-btn",onClick:function(){c.advantages.length<11&&n("")},children:(0,r.jsx)("img",{src:j,alt:"plusImg"})})]})}}),(0,r.jsxs)("div",{role:"group","aria-labelledby":"step-form-checkbox-group",className:"step-form__click-group",children:[(0,r.jsx)("div",{className:"step-form-click__title",children:"Checkbox группа"}),(0,r.jsxs)("label",{className:"step-form-click__label",children:[(0,r.jsx)(l.gN,{className:"step-form-click__input",type:"checkbox",name:"checkbox",value:"1"}),(0,r.jsx)("div",{className:"step-form-click__input-name",children:"1"})]}),(0,r.jsxs)("label",{className:"step-form-click__label",children:[(0,r.jsx)(l.gN,{className:"step-form-click__input",type:"checkbox",name:"checkbox",value:"2"}),(0,r.jsx)("div",{className:"step-form-click__input-name",children:"2"})]}),(0,r.jsxs)("label",{className:"step-form-click__label",children:[(0,r.jsx)(l.gN,{className:"step-form-click__input",type:"checkbox",name:"checkbox",value:"3"}),(0,r.jsx)("div",{className:"step-form-click__input-name",children:"3"})]})]}),(0,r.jsxs)("div",{role:"group","aria-labelledby":"step-form-radio-group",className:"step-form__click-group",children:[(0,r.jsx)("div",{className:"step-form-click__title",children:"Radio группа"}),(0,r.jsxs)("label",{className:"step-form-click__label",children:[(0,r.jsx)(l.gN,{className:"step-form-click__input",type:"radio",name:"radio",value:"1"}),(0,r.jsx)("div",{className:"step-form-click__input-name",children:"1"})]}),(0,r.jsxs)("label",{className:"step-form-click__label",children:[(0,r.jsx)(l.gN,{className:"step-form-click__input",type:"radio",name:"radio",value:"2"}),(0,r.jsx)("div",{className:"step-form-click__input-name",children:"2"})]}),(0,r.jsxs)("label",{className:"step-form-click__label",children:[(0,r.jsx)(l.gN,{className:"step-form-click__input",type:"radio",name:"radio",value:"3"}),(0,r.jsx)("div",{className:"step-form-click__input-name",children:"3"})]})]})]}),(0,r.jsxs)("div",{className:"step-form__buttons",children:[(0,r.jsx)("button",{className:"step-form__back-btn",onClick:function(){return function(e){n((0,v.wI)(f.H.ADD_DATA_FROM_STEP_2,e)),a()}(c)},children:"Назад"}),(0,r.jsx)("button",{className:"form-btn step-form__next-btn",type:"submit",children:"Далее"})]})]})}})}var g=a(758),k=function(){return k=Object.assign||function(e){for(var s,a=1,t=arguments.length;a<t;a++)for(var r in s=arguments[a])Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);return e},k.apply(this,arguments)};function y(e){var s=e.onSendForm,a=e.onPrevStep,t=p((function(e){return e.formReducer})),c=(0,n.useState)(0),o=c[0],i=c[1],d=(0,_.I0)(),u=m.Ry().shape({about:m.Z_().required("Обязательное поле для заполнения").max(200,"Допустимая длина превышает 200 символов")});function x(e){i(e.currentTarget.value.length)}return(0,r.jsx)(l.J9,{validationSchema:u,initialValues:{about:t.dataForm.about},onSubmit:function(e){var a={about:e.about};d((0,v.Gr)(f.H.ADD_DATA_FROM_STEP_3,a)),s(k(k({},t.dataForm),a))},children:function(e){var s=e.errors,n=e.touched,c=e.values;return(0,r.jsxs)(l.l0,{className:"step-form",children:[(0,r.jsxs)("div",{className:"step-form__item-textarea",children:[(0,r.jsx)("label",{className:"step-form__label",children:"О себе"}),(0,r.jsxs)("div",{className:"step-form__counter-box",children:[(0,r.jsx)(l.gN,{placeholder:"Введите текст",onInput:x,as:"textarea",name:"about",className:"form-input step-form__textarea".concat(s.about&&n.about?"--error":"")}),(0,r.jsxs)("span",{className:"step-form__counter-text",children:[(0,r.jsx)("span",{className:"step-form__counter-current",children:o}),"/",(0,r.jsx)("span",{className:"step-form__counter-total",children:"200"})]})]}),(0,r.jsx)("div",{className:"step-form__warning",children:s.about})]}),(0,r.jsxs)("div",{className:"step-form__buttons",children:[(0,r.jsx)("button",{className:"step-form__back-btn",onClick:function(){return function(e){d((0,v.Gr)(f.H.ADD_DATA_FROM_STEP_3,e)),a()}(c)},children:"Назад"}),(0,r.jsx)(g.Z,{spinning:t.loading,children:(0,r.jsx)("button",{className:"form-btn step-form__next-btn",type:"submit",children:"Отправить"})})]})]})}})}function S(e){var s=e.children,a=e.onClose;return(0,n.useEffect)((function(){return document.querySelector("body").style.overflow="hidden",function(){document.querySelector("body").style.overflow="visible"}}),[]),(0,r.jsx)("div",{className:"modal",onClick:a,children:(0,r.jsx)("div",{className:"modal__wrapper",children:(0,r.jsx)("div",{className:"modal__content",onClick:function(e){e.stopPropagation()},children:s})})})}var w=a(655),D=a(802);function A(){return(0,r.jsxs)("div",{className:"success-modal",children:[(0,r.jsx)("div",{className:"success-modal__header",children:(0,r.jsx)("div",{className:"success-modal__title",children:"Форма успешно отправлена"})}),(0,r.jsx)("div",{className:"success-modal__content",children:(0,r.jsx)("div",{className:"success-modal__img-wrapper",children:(0,r.jsx)("img",{className:"success-modal__success-img",src:D,alt:"vectorSuccess"})})}),(0,r.jsx)("div",{className:"success-modal__footer",children:(0,r.jsx)(w.rU,{to:"/",className:"form-btn success-modal__on-main-btn",children:"На главную"})})]})}var C=a(500),F=a(795);function R(e){var s=e.onClose;return(0,r.jsxs)("div",{className:"error-modal",children:[(0,r.jsxs)("div",{className:"error-modal__header",children:[(0,r.jsx)("div",{className:"error-modal__title",children:"Ошибка"}),(0,r.jsx)("button",{className:"error-modal__close-btn",onClick:s,children:(0,r.jsx)("img",{className:"error-modal__close-vector",src:F,alt:"vectorClose"})})]}),(0,r.jsx)("div",{className:"error-modal__content",children:(0,r.jsx)("div",{className:"error-modal__img-wrapper",children:(0,r.jsx)("img",{className:"error-modal__success-img",src:C,alt:"vectorError"})})}),(0,r.jsx)("div",{className:"error-modal__footer",children:(0,r.jsx)("button",{className:"form-btn error-modal__on-close-btn",onClick:s,children:"Закрыть"})})]})}var T=[{header:"1",id:1,status:t.active},{header:"2",id:2,status:t.inactive},{header:"3",id:3,status:t.inactive}];function P(){var e=(0,n.useState)(!1),s=e[0],a=e[1],c=(0,n.useState)(!1),o=c[0],l=c[1],m=(0,n.useState)(T),d=m[0],u=(m[1],(0,n.useState)(0)),p=u[0],x=u[1],j=(0,_.I0)(),N=[(0,r.jsx)(h,{onNextStep:g,onPrevStep:k}),(0,r.jsx)(b,{onNextStep:g,onPrevStep:k}),(0,r.jsx)(y,{onSendForm:function(e){j((0,v.VO)(f.H.SHOW_LOADER)),(0,v.qm)(f.H.SEND_FORM,e).then((function(e){j(e),a(!0)})).catch((function(e){j(e),l(!0)}))},onPrevStep:k})];function g(){p<=d.length-2&&(d[p+1].status=t.active,d[p].status=t.done,x(p+1))}function k(){p>0&&(d[p-1].status=t.active,d[p].status=t.inactive,x(p-1))}return(0,r.jsxs)(r.Fragment,{children:[(o||s)&&(0,r.jsxs)(S,{onClose:function(){return l(!1)},children:[o&&(0,r.jsx)(R,{onClose:function(){return l(!1)}}),s&&(0,r.jsx)(A,{})]}),(0,r.jsx)("div",{className:"form-page",children:(0,r.jsxs)("div",{className:"form-page__container",children:[(0,r.jsx)("div",{className:"form-page__steps",children:(0,r.jsx)(i,{stepsArr:T})}),(0,r.jsx)("div",{className:"form-page__content",children:N[p]})]})})]})}},487:(e,s,a)=>{a.d(s,{Gr:()=>o,VO:()=>t,X0:()=>n,h3:()=>r,qm:()=>i,wI:()=>c});var t=function(e){return{type:e}},r=function(e,s){return{type:e,payload:{data:s}}},n=function(e,s){return{type:e,payload:{data:s}}},c=function(e,s){return{type:e,payload:{data:s}}},o=function(e,s){return{type:e,payload:{data:s}}},i=function(e,s){try{return console.log(s),new Promise((function(s,a){setTimeout((function(){return s({type:e})}),2e3)}))}catch(e){throw e}}},795:(e,s,a)=>{e.exports=a.p+"assets/vectorClose.12697ca38f724dc86c5f..svg"},500:(e,s,a)=>{e.exports=a.p+"assets/vectorError.fd1a8448dacc4a5af170..svg"},802:(e,s,a)=>{e.exports=a.p+"assets/vectorSuccess.a20946ae27d9e9492ba1..svg"},398:(e,s,a)=>{e.exports=a.p+"assets/plus.f42cf42545107d658654..svg"},326:(e,s,a)=>{e.exports=a.p+"assets/trash.1650c7a175b934b2f27a..svg"},395:(e,s,a)=>{e.exports=a.p+"assets/vector.501987ca8dd4487a7609..svg"},204:(e,s,a)=>{e.exports=a.p+"assets/vectorDropDown.9123423a0602e640c99c..svg"}}]);